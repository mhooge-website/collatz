<!DOCTYPE html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-112742388-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-112742388-1');
	</script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Collatz Conjecture</title>
    <link rel="stylesheet" type="text/css" href="/global-style.css">
</head>
<body>
    <link rel="stylesheet" type="text/css" href="/projects/collatz/collatz-style.css">
    <script src="/scripts/canvashelper.js"></script>
    <script src="/projects/collatz/graphview.js"></script>
    <script src="/projects/collatz/collatz.js"></script>

    <div id="main-div">
        <p id="header">Calculate Steps in Collatz Conjecture</p>
        <input type="text" id="number-input" placeholder="Starting number(s)" onchange="clearErrorMsg();" onkeypress="keyPressed(event);"></input>
        <button onclick="displayInfo(true)";>?</button>
        <button id="calculate-button" onclick="calculate('number-input');">Calculate</button>
        <button id="stats-button" onclick="displayStats(true);">Statistics</button>
    </div>
    <p id="result-tooltip"></p>
    <canvas id="canvas"></canvas>
    <div id="help-div">
        Collatz Conjecure: start with a number.
        If that number is even, divide it by 2.
        If it is odd, multiply it by 3 and add 1.
        Count how many of these steps are needed, before it reaches 1.
        <br><br>
        Input one or more numers and click calculate.
        <br><br>
        Input several numbers seperated by commas (1, 2, 3),
        <br><br>
        or input a range, seperated by a dash, (0-10).
        <br><br>
        With multiple numbers, click on a button to see a 
        graph for the Collatz calculation for that input.
        <br><br>
        <button onclick="displayInfo(false);">OK</button>
    </div>
    <div id="stats-div">
        <p>Of all the conjectures calculated:</p>
        <ul>
            <li>Total graphs: <span class="stats-values">{graphs_total}</span>.</li>
            <br>
            <li>Percentage reaching 1: <span class="stats-values">{pct_done}</span>.</li>
            <br>
            <li>Max steps for a graph: <span class="stats-values">{max_steps}</span>,
                achieved with input <span class="stats-values">{input_max}</span>.</li>
            <br>
            <li>Average steps per graph: <span class="stats-values">{avg_steps}</span>.</li>
            <br>
            <li>Largest step to input ratio: <span class="stats-values">{ratio}</span>,<br>
                    achieved with input <span class="stats-values">{input_ratio}</span>,<br>
                    having <span class="stats-values">{step_ratio}</span> steps.</li>
        </ul>
        <button onclick="displayStats(false);">OK</button>
    </div>

    <script>init();</script>
</body>